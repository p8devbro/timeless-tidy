<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cleaning Service</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/quote.css">
    
        <!-- Favicon -->
        <link href="https://img.icons8.com/?size=80&id=BTNAqD2IIXSp&format=png" rel="icon">
</head>
<body>
    <!-- Fixed Header -->
    <header class="fixed-header">
        <div class="header-content">
            <div class="logo">TimelessTidy</div>
            
            <div class="step-indicator">
                <div class="step active" data-step="1">
                    <div class="step-number">1</div>
                    <div class="step-label">Get Quote</div>
                </div>
                <div class="step" data-step="2">
                    <div class="step-number">2</div>
                    <div class="step-label">Choose Time</div>
                </div>
                <div class="step" data-step="3">
                    <div class="step-number">3</div>
                    <div class="step-label">Your Details</div>
                </div>
                <div class="step" data-step="4">
                    <div class="step-number">4</div>
                    <div class="step-label">Payment</div>
                </div>
            </div>
            
            <div class="order-summary-container">
                <div class="order-summary-toggle" onclick="toggleOrderSummary()">
                    <span id="summary-total-amount">£0.00</span>
                    <i class="fas fa-chevron-down"></i>
                </div>
                <div class="order-summary-dropdown">
                    <h3>Order Summary</h3>
                    <div class="summary-item">
                        <span class="summary-title">Service:</span>
                        <span id="dropdown-summary-service">Standard Cleaning</span>
                    </div>
                    <div class="summary-item">
                        <span class="summary-title">Bedrooms:</span>
                        <span id="dropdown-summary-bedrooms">-</span>
                    </div>
                    <div class="summary-item">
                        <span class="summary-title">Bathrooms:</span>
                        <span id="dropdown-summary-bathrooms">-</span>
                    </div>
                    <div class="summary-item">
                        <span class="summary-title">Extra Tasks:</span>
                        <span id="dropdown-summary-extras">None</span>
                    </div>
                    <div class="summary-item">
                        <span class="summary-title">Work Hours:</span>
                        <span id="dropdown-summary-hours">-</span>
                    </div>
                    <div class="summary-item">
                        <span class="summary-title">Frequency:</span>
                        <span id="dropdown-summary-frequency">-</span>
                    </div>
                    <div class="summary-item">
                        <span class="summary-title">Date:</span>
                        <span id="dropdown-summary-date">-</span>
                    </div>
                    <div class="summary-total">
                        <span>Estimated Total:</span>
                        <span id="dropdown-summary-total">£0.00</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <div class="container">
        <div class="form-container">
            <!-- Step 1: Get Your Quote -->
            <form id="signup-form">
                <div class="form-step active" data-step="1">
                    <h2>Customize Your Clean</h2>
                    <div class="form-group">
                        <label for="postal-code">Postal Code</label>
                        <input type="text" id="postal-code" name="postal-code" required placeholder="Enter your postal code">
                    </div>
                    <div class="form-group">
                        <label for="bedrooms">How many bedrooms need cleaning?</label>
                        <select id="bedrooms" name="bedrooms" required>
                            <option value="">Select</option>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5+</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="bathrooms">How many bathrooms need cleaning?</label>
                        <select id="bathrooms" name="bathrooms" required>
                            <option value="">Select</option>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5+</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label>Extra tasks (optional)</label>
                        <div class="extra-tasks-container">
                            <div class="extra-task-option" data-task="ironing" data-cost="15">
                                <i class="fas fa-iron"></i>
                                <div>Ironing</div>
                                <small>+£15</small>
                            </div>
                            <div class="extra-task-option" data-task="laundry" data-cost="20">
                                <i class="fas fa-tshirt"></i>
                                <div>Laundry</div>
                                <small>+£20</small>
                            </div>
                            <div class="extra-task-option" data-task="windows" data-cost="25">
                                <i class="fas fa-window-maximize"></i>
                                <div>Inside windows</div>
                                <small>+£25</small>
                            </div>
                            <div class="extra-task-option" data-task="fridge" data-cost="30">
                                <i class="fas fa-refrigerator"></i>
                                <div>Inside fridge</div>
                                <small>+£30</small>
                            </div>
                            <div class="extra-task-option" data-task="oven" data-cost="35">
                                <i class="fas fa-temperature-high"></i>
                                <div>Inside oven</div>
                                <small>+£35</small>
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label>Select work hours</label>
                        <div id="work-hours-recommendation" style="font-style: italic; margin-bottom: 10px; color: var(--primary-color);"></div>
                        <div class="option-blocks">
                            <div class="option-block" data-hours="2.0">2.0 hours</div>
                            <div class="option-block" data-hours="2.5">2.5 hours</div>
                            <div class="option-block" data-hours="3.0">3.0 hours</div>
                            <div class="option-block" data-hours="3.5">3.5 hours</div>
                            <div class="option-block" data-hours="4.0">4.0 hours</div>
                            <div class="option-block" data-hours="4.5">4.5 hours</div>
                            <div class="option-block" data-hours="5.0">5.0 hours</div>
                            <div class="option-block" data-hours="5.5">5.5 hours</div>
                            <div class="option-block" data-hours="6.0">6.0 hours</div>
                            <div class="option-block" data-hours="6.5">6.5 hours</div>
                            <div class="option-block" data-hours="7.0">7.0 hours</div>
                            <div class="option-block" data-hours="7.5">7.5 hours</div>
                            <div class="option-block" data-hours="8.0">8.0 hours</div>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label>Cleaning products?</label>
                        <p style="margin-bottom: 10px; font-size: 14px; color: #666;">Includes sprays and cloths. Your Housekeeper cannot bring a vacuum, mop or bucket</p>
                        <div class="option-blocks" style="grid-template-columns: repeat(2, 1fr);">
                            <div class="option-block" data-products="bring">Bring cleaning products</div>
                            <div class="option-block" data-products="provide">I will provide</div>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label>How often?</label>
                        <p style="margin-bottom: 10px; font-size: 14px; color: #666;">You can keep the same cleaner for recurring cleans. You can change or cancel any time.</p>
                        <div class="option-blocks" style="grid-template-columns: repeat(4, 1fr);">
                            <!--div class="option-block" data-frequency="more-than-weekly">More than weekly</div-->
                            <div class="option-block" data-frequency="weekly">Every week</div>
                            <div class="option-block" data-frequency="biweekly">Every 2 weeks</div>
                            <div class="option-block" data-frequency="one-off">One-off</div>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="email">Email address</label>
                        <input type="email" id="email" name="email" required placeholder="Enter your email">
                        <div class="checkbox-container">
                            <input type="checkbox" id="newsletter" name="newsletter" checked>
                            <label for="newsletter" style="font-weight: normal;">Receive our newsletter and promotions</label>
                        </div>
                    </div>
                    
                    <div class="button-group">
                        <div></div>
                        <button type="button" class="btn" onclick="nextStep()">Continue</button>
                    </div>
                </div>
                
                <!-- Step 2: Choose Your Time -->
                <div class="form-step" data-step="2">
                    <h2>Choose Your Time</h2>
                    <div class="form-group">
                        <label>How can your cleaner access the property?</label>
                        <div class="option-blocks" style="grid-template-columns: repeat(2, 1fr);">
                            <div class="option-block" data-access="keys">Spare keys</div>
                            <div class="option-block" data-access="someone">Someone at home</div>
                            <div class="option-block" data-access="concierge">Concierge</div>
                            <div class="option-block" data-access="keysafe">Key safe</div>
                            <div class="option-block" data-access="hidden">Key hidden</div>
                        </div>
                        <div id="access-details-container" style="margin-top: 15px; display: none;">
                            <div id="concierge-details" class="access-details">
                                <label for="concierge-location">Where is the concierge?</label>
                                <input type="text" id="concierge-location" name="concierge-location">
                            </div>
                            <div id="keysafe-details" class="access-details">
                                <label for="keysafe-location">Where is the key safe?</label>
                                <input type="text" id="keysafe-location" name="keysafe-location">
                                <label for="keysafe-code" style="margin-top: 10px;">Passcode</label>
                                <input type="text" id="keysafe-code" name="keysafe-code">
                            </div>
                            <div id="hidden-details" class="access-details">
                                <label for="hidden-location">Where is the key hidden?</label>
                                <input type="text" id="hidden-location" name="hidden-location">
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label>Do you have any pets?</label>
                        <p style="margin-bottom: 10px; font-size: 14px; color: #666;">We'll display times of pet-friendly cleaners</p>
                        <div class="pet-options">
                            <div class="option-block" data-pets="yes">Yes, I have pets</div>
                            <div class="option-block" data-pets="no">No, I don't have any pets</div>
                        </div>
                        <div id="pet-types-container" class="pet-type-container">
                            <label style="display: block; margin-bottom: 10px;">What type of pets?</label>
                            <div class="pet-type-option" data-pet-type="cat">Cat</div>
                            <div class="pet-type-option" data-pet-type="dog">Dog</div>
                            <div class="pet-type-option" data-pet-type="other">Other</div>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label>When would you like your first clean?</label>
                        <p style="margin-bottom: 10px; font-size: 14px; color: #666;">Cleaners work from 07:00-20:00, Monday-Sunday</p>
                        <div class="calendar-container">
                            <div class="calendar-header">
                                <button type="button" id="prev-month"><i class="fas fa-chevron-left"></i></button>
                                <h4 id="current-month-year">June 2023</h4>
                                <button type="button" id="next-month"><i class="fas fa-chevron-right"></i></button>
                            </div>
                            <div class="calendar-grid" id="calendar-days-header">
                                <div class="calendar-day-header">Sun</div>
                                <div class="calendar-day-header">Mon</div>
                                <div class="calendar-day-header">Tue</div>
                                <div class="calendar-day-header">Wed</div>
                                <div class="calendar-day-header">Thu</div>
                                <div class="calendar-day-header">Fri</div>
                                <div class="calendar-day-header">Sat</div>
                            </div>
                            <div class="calendar-grid" id="calendar-days"></div>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label>What time would you like your cleaner to arrive?</label>
                        <div class="time-options">
                            <h4 style="margin: 15px 0 10px 0;">Morning arrival (9:00am-12 noon)</h4>
                            <div class="time-slots-container" id="morning-slots"></div>
                            
                            <h4 style="margin: 15px 0 10px 0;">Afternoon arrival (12 noon-5pm)</h4>
                            <div class="time-slots-container" id="afternoon-slots"></div>
                        </div>
                    </div>
                    
                    <div class="button-group">
                        <button type="button" class="btn btn-secondary" onclick="prevStep()">Back</button>
                        <button type="button" class="btn" onclick="nextStep()">Continue</button>
                    </div>
                </div>
                
                <!-- Step 3: Your Details -->
                <div class="form-step" data-step="3">
                    <h2>Your Details</h2>
                    <div class="form-group">
                        <label for="full-name">Full Name</label>
                        <input type="text" id="full-name" name="full-name" required placeholder="Enter your full name">
                    </div>
                    <div class="form-group">
                        <label for="mobile">Mobile Number</label>
                        <input type="tel" id="mobile" name="mobile" required placeholder="Enter your mobile number">
                    </div>
                    <div class="form-group">
                        <label for="address1">Address Line 1</label>
                        <input type="text" id="address1" name="address1" required placeholder="Enter your address">
                    </div>
                    <div class="form-group">
                        <label for="address2">Address Line 2 (optional)</label>
                        <input type="text" id="address2" name="address2" placeholder="Apartment, suite, unit, etc.">
                    </div>
                    <div class="form-group">
                        <label for="city">City</label>
                        <input type="text" id="city" name="city" required placeholder="Enter your city">
                    </div>
                    <div class="form-group">
                        <label for="postal-code-confirm">Postal Code</label>
                        <input type="text" id="postal-code-confirm" name="postal-code-confirm" required readonly>
                    </div>
                    
                    <!-- Add upload section -->
                    <div class="form-group">
                        <label>Upload Photos/Videos (Optional)</label>
                        <div class="upload-section">
                            <input type="file" id="file-upload" accept="image/*,video/*" multiple 
                                   style="display: none;" onchange="handleFileUpload(event)">
                            <button type="button" class="btn btn-secondary" 
                                    onclick="document.getElementById('file-upload').click()">
                                <i class="fas fa-upload"></i> Choose Files
                            </button>
                            <p style="margin-top: 10px; color: #666;">Max 5 files (images or videos)</p>
                            <div class="file-preview-container" id="file-preview-container"></div>
                        </div>
                    </div>

                    <div class="button-group">
                        <button type="button" class="btn btn-secondary" onclick="prevStep()">Back</button>
                        <button type="button" class="btn" onclick="nextStep()">Continue</button>
                    </div>
                </div>

                <!-- Step 4: Payment -->
                <div class="form-step" data-step="4">
                    <h2>Payment Information</h2>
                    <p style="margin-bottom: 20px; color: var(--primary-color);">You'll only be charged after your clean is completed. You can edit, reschedule or cancel your cleans anytime.</p>
                    
                    <!-- Stripe Card Element -->
                    <div class="form-group">
                        <label for="card-element">Card Details</label>
                        <div id="card-element" class="StripeElement">
                            <!-- Stripe.js will insert the card elements here -->
                        </div>
                        <div id="card-errors" class="card-errors" role="alert"></div>
                    </div>

                    <div class="checkbox-container">
                        <input type="checkbox" id="terms" name="terms" required>
                        <label for="terms" style="font-weight: normal;">I agree to the terms and conditions</label>
                    </div>

                    <div class="button-group">
                        <button type="button" class="btn btn-secondary" onclick="prevStep()">Back</button>
                        <button type="submit" class="btn" id="submit-button">Complete Booking</button>
                    </div>
                </div>
                
                <!-- Invoice (hidden until submission) -->
                <div id="invoice-container" class="invoice-container">
                    <div class="invoice-header">
                        <h2>Invoice</h2>
                        <p>Thank you for your booking!</p>
                    </div>
                    
                    <div class="invoice-details">
                        <div>
                            <h4>Billed To:</h4>
                            <p id="invoice-name"></p>
                            <p id="invoice-address"></p>
                            <p id="invoice-phone"></p>
                            <p id="invoice-email"></p>
                        </div>
                        <div>
                            <h4>Invoice Details:</h4>
                            <p>Invoice #: <span id="invoice-number"></span></p>
                            <p>Date: <span id="invoice-date"></span></p>
                            <p>Status: <span style="color: var(--success-color);">Paid</span></p>
                        </div>
                    </div>
                    
                    <table class="invoice-items">
                        <thead>
                            <tr>
                                <th>Description</th>
                                <th>Quantity</th>
                                <th>Price</th>
                                <th>Total</th>
                            </tr>
                        </thead>
                        <tbody id="invoice-items-body">
                        </tbody>
                    </table>
                    
                    <div class="invoice-total">
                        Total: <span id="invoice-total-amount"></span>
                    </div>
                    
                    <div class="invoice-actions">
                        <button class="btn" onclick="printInvoice()"><i class="fas fa-print"></i> Print Invoice</button>
                        <button class="btn" onclick="downloadInvoice()"><i class="fas fa-download"></i> Download Invoice</button>
                    </div>
                </div>
            </form>
        </div>
        
        <div class="sidebar">
            <!-- FAQ and Testimonial (visible only on desktop) -->
            <div class="hidden-mobile">
                <div class="testimonial-container">
                    <h3>What Our Customers Say</h3>
                    <div class="testimonial">
                        <div class="testimonial-avatar">
                            <img src="https://randomuser.me/api/portraits/women/43.jpg" alt="Happy Customer">
                        </div>
                        <div class="testimonial-content">
                            <div class="testimonial-rating">
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                            </div>
                            <p>"The cleaner did an amazing job! My house has never been so spotless."</p>
                        </div>
                    </div>
                </div>
                
                <div class="faq-container">
                    <h3>Frequently Asked Questions</h3>
                    <div class="faq-item">
                        <div class="faq-question">What's included in the standard cleaning?</div>
                        <div class="faq-answer">Our standard cleaning includes dusting, vacuuming, mopping, bathroom cleaning, and kitchen cleaning.</div>
                    </div>
                    <div class="faq-item">
                        <div class="faq-question">Do I need to be home during the cleaning?</div>
                        <div class="faq-answer">No, many of our clients provide us with access to their home. We're fully insured for your peace of mind.</div>
                    </div>
                    <div class="faq-item">
                        <div class="faq-question">What's your cancellation policy?</div>
                        <div class="faq-answer">You can cancel or reschedule up to 24 hours before your appointment without any charges.</div>
                    </div>
                    <div class="faq-item">
                        <div class="faq-question">Do you bring your own supplies?</div>
                        <div class="faq-answer">Yes, we bring all necessary cleaning supplies and equipment. You only need to provide electricity and water.</div>
                    </div>
                </div>
            </div>
            
            <!-- Security Info (shown in step 4) -->
            <div id="security-container" class="security-container" style="display: none;">
                <div class="security-info">
                    <i class="fas fa-lock"></i>
                    <span>Your payment details are encrypted and secured</span>
                </div>
            </div>
        </div>
    </div>

   <!-- Load quote.js -->
    <script src="js/quote.js"></script>
    <!-- Load Stripe.js -->
    <script src="https://js.stripe.com/v3/"></script>
</body>
</html>